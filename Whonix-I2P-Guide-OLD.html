<!doctype html>
<html lang="en">
<head>
<title>LOa8tHpmT2jb4e4T</title>
<meta name="generator" content="Etherpad">
<meta name="author" content="Etherpad">
<meta name="changedby" content="Etherpad">
<meta charset="utf-8">
<style> * { font-family: arial, sans-serif;
font-size: 13px;
line-height: 17px; }ul.indent { list-style-type: none; }ol { list-style-type: none; padding-left:0;}body > ol { counter-reset: first second third fourth fifth sixth seventh eigth ninth tenth eleventh twelth thirteenth fourteenth fifteenth sixteenth; }ol > li:before {content: counter(first) ". " ;counter-increment: first;}ol > ol > li:before {content: counter(first) "." counter(second) ". " ;counter-increment: second;}ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) ". ";counter-increment: third;}ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) ". ";counter-increment: fourth;}ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) ". ";counter-increment: fifth;}ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) ". ";counter-increment: sixth;}ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) ". ";counter-increment: seventh;}ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) ". ";counter-increment: eigth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) ". ";counter-increment: ninth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) ". ";counter-increment: tenth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) ". ";counter-increment: eleventh;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) ". ";counter-increment: twelth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) ". ";counter-increment: thirteenth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) ". ";counter-increment: fourteenth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "."  counter(eigth) "."  counter(ninth) "."  counter(tenth) "."  counter(eleventh) "."  counter(twelth) "."  counter(thirteenth) "."  counter(fourteenth) "." counter(fifteenth) ". ";counter-increment: fifteenth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "."  counter(eigth) "."  counter(ninth) "."  counter(tenth) "."  counter(eleventh) "."  counter(twelth) "."  counter(thirteenth) "."  counter(fourteenth) "."  counter(fifteenth) "."  counter(sixthteenth) ". ";counter-increment: sixthteenth;}ol{ text-indent: 0px; }ol > ol{ text-indent: 10px; }ol > ol > ol{ text-indent: 20px; }ol > ol > ol > ol{ text-indent: 30px; }ol > ol > ol > ol > ol{ text-indent: 40px; }ol > ol > ol > ol > ol > ol{ text-indent: 50px; }ol > ol > ol > ol > ol > ol > ol{ text-indent: 60px; }ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 70px; }ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 80px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 90px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 100px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 110px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol { text-indent: 120px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 130px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 140px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 150px; }h1{font-size: 2.0em;line-height: 120%;}   h2{font-size: 1.5em;line-height: 120%;}   h3{font-size: 1.17em;line-height: 120%;}   h4{line-height: 120%;}   h5{font-size: 0.83em;line-height: 120%;}   h6{font-size: 0.75em;line-height: 120%;}   code{font-family: monospace;}</style>
</head>
<body><ul class="indent"><li><strong><u>Qubes Whonix Guide</u></strong></li><li><strong><em>Table of Content</em></strong></li><li><br></li><li><br></li><li><strong>Disclaimer</strong></li><li><strong>Current ToDo</strong></li><li><strong>Preperation</strong></li><li><strong>Installing I2P</strong></li><li><strong>Editing the firewall rules</strong></li><li><strong>Making the I2P folders persistent in the ProxyVm&nbsp;</strong></li><li><strong>Changing I2P&#x27;s listening interface</strong></li><li><strong>Installing and Configuring FoxyProxy</strong></li><li><strong>&nbsp;Forwarding I2P ports from the workstation to the gateway</strong></li><li><strong>Enabling and starting I2P</strong></li><li><strong>Additional software</strong></li><li><strong>Other notes</strong></li><li><strong>Resources</strong></li><li><strong>Known Issues</strong></li></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul><ul><ul><ul><ul><ul class="indent"><li><br></li><li><br></li><li><strong>DISCLAIMER</strong>&nbsp;</li></ul></ul></ul></ul></ul></ul> <span class="anonymous" title="anonymous">This HowTo originated Killyourtv.i2p and went offline when Kytv went MIA , so I ( Goldstein ) updated it to the Current Qubes-OS Whonix Version</span><br/> <span class="anonymous" title="anonymous">(all Killyourtv services went down see http://zzz.i2p/topics/2098-all-kytv-services-down)</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">THIS IS STILL A WORK IN PROGRESS </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">If you rely on strong security dont use this yet</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">This Guide will change or get obsolete soon </span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Guide to Run I2P inside Whonix Gateway and make it accesible via Whonix Workstation and Redirect all non i2P requests trough TOR</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">The Whonix site suggests running I2P on the Whonix workstation, routing all I2P traffic over Tor.</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"> If you care about Tor or I2P, DON'T DO THIS! It would be far better to install I2P on the Whonix gateway and acess THAT from the workstation. This guide describes one way of acheiving this...</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">The steps in this document have been tested with I2P 0.9.25 and Whonix-(Gateway|Workstation) running in Qubes and will likely work with future versions with minor modifications.</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Current Todo :</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;</li></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">                -. Figure out how we can set some setting per Default like DisableUPNP and Hidden Mode</span><br/> <span class="anonymous" title="anonymous">                -.refactor this ugly tutorial to make it useful for normal people # Working on it</span><br/> <span class="anonymous" title="anonymous">                -.Research if we could replace the step where we need to edit the resolve.conf or reseed via tor ? </span><br/> <span class="anonymous" title="anonymous">                -.Look into debian packaging </span><br/> <span class="anonymous" title="anonymous">                -.Cleanup code and add it to github</span><br/> <span class="anonymous" title="anonymous">                -.Host this Todo and all files regarding it on i2P</span><br/> <span class="anonymous" title="anonymous">    </span><br/> <span class="anonymous" title="anonymous">Preparation</span><span class="anonymous" title="anonymous">    </span><br/> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"> If you plan on using two Whonix Gateways (one for I2P and Tor and one for Tor only) create a seperate Gateway ProxyVm and Workstation AppVM</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Installing I2P</span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">We'll install I2P using the Debian packages.from the 'official' I2P project's. (Kytv used to build the packages used by both (his repo and the offical )(see Disclaimer) ).</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">on the Whonix-Gateway Template add the I2P Repository to /etc/apt/sources.list.d/i2p.list  via</span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>user@host:~$ sudo nano &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;i2p.list</li><li><br></li></ul> <span class="anonymous" title="anonymous">Paste this into the newly created file</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li><br></li><li>deb <a href="http&#x3a;&#x2F;&#x2F;deb&#x2e;i2p2&#x2e;no">http:&#x2F;&#x2F;deb.i2p2.no</a> stable main</li><li><br></li></ul> <span class="anonymous" title="anonymous">After adding the repo,download the i2p debian repo key</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>user@host:~$ wget.anondist <a href="https&#x3a;&#x2F;&#x2F;geti2p&#x2e;net&#x2F;&#x5f;static&#x2F;i2p&#x2d;debian&#x2d;repo&#x2e;key&#x2e;asc">https:&#x2F;&#x2F;geti2p.net&#x2F;_static&#x2F;i2p-debian-repo.key.asc</a></li><li><br></li></ul> <span class="anonymous" title="anonymous">Verify the File </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>user@host:~$ sha512sum &lt; i2p-debian-repo.key.asc&nbsp;</li><li><br></li></ul> <span class="anonymous" title="anonymous">The Result should be (Note I created the Checksum after Downloading and manually Verifying it (as none was provided by I2P #todo write i2p devs to provide checksums), so you have to trust me that its sane or Verfify it Manually yourself)</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li><br></li><li>b08772408d32fd84ff414d241d3b78baea278b3388186d8e34aed8579c68e643868ee4d3c3f0beb8424bc1e4ac4288b335f9c28781b8282b5dda69f49dbe2922&nbsp; -</li><li><br></li></ul> <span class="anonymous" title="anonymous">after  Verifying add the i2p debian Key to Apt</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li><br></li><li>user@host:~$ sudo apt-key add i2p-debian-repo.key.asc</li></ul> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">After adding the key, update the package lists.</span><br/><ul class="indent"><li><br></li><li>user@host:~$ sudo apt-get update</li></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Now we can install I2P and its dependencies:</span><br/> <span class="anonymous" title="anonymous"></span><br/><ul class="indent"><li>user@host:~$ sudo apt-get install i2p i2p-keyring</li></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Within a few minutes, I2P and its dependencies will be downloaded and installed.</span><br/> <span class="anonymous" title="anonymous"> </span><span class="a_fN6O23VFo9o04JWF" title="a_fN6O23VFo9o04JWF" style="background-color:#7e1db1"></span><br/> <span class="anonymous" title="anonymous"> </span><span class="anonymous" title="anonymous">Don't start I2P yet!</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"> </span><br/> <span class="anonymous" title="anonymous"> </span><br/> <span class="anonymous" title="anonymous">Editing the firewall rules</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">#New  currently TESTING  Method </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">Add the settings in the Whonix-Firewall (/etc/whonix_firewall.d/50_user.conf ) (Uncomment any SocksPort you dont need)</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">NO_NAT_USERS+=" $(id -u i2psvc)"</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">GATEWAY_TRANSPARENT_DNS=1</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_BOB=2827</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_TAHOE=3456</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_WWW=4444</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_WWW2=4445</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_IRC=6668</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_XMPP=7622</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_CONTROL=7650</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_SOCKSIRC=7651</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_SOCKS=7652</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_I2CP=7654</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_SAM=7656</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_CON=7657</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_EEP=7658</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li><br></li></ul> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_SMTP=7659</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_POP=7660</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li><br></li></ul> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_BOTESMTP=7661</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_BOTEIMAP=7662</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">SOCKS_PORT_I2P_MTN=8998</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li><br></li><li><br></li></ul> <span class="anonymous" title="anonymous">Now reload the Firewall </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>user@host:~$ sudo &#x2F;usr&#x2F;bin&#x2F;whonix_firewall</li><li><br></li></ul> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">I2P Cant Connect to any of the reseed servers </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">Current dirty fix # This will be fixed soon</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">Start the Whonix-Gateway-Template open a terminal and edit the /etc/resolve.conf </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>sudo nano &#x2F;etc&#x2F;resolve.conf</li><li><br></li></ul> <span class="anonymous" title="anonymous">change the nameserver from 127.0.0.1 to your Gateways Gateway IP (eg. FirewallVm (Open the Qubes Manager and look at the Whonix-Gateway Gateway IP)) 10.137.x.1 save.</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"> </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">Make the I2P folders persistent in the ProxyVm </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"> (old Method) #works</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">by adding the following to /usr/lib/qubes-whonix/bind-directories</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">(at line 70 right under 'rw/srv/whonix/etc/tor:/etc/tor' )</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">'/rw/srv/whonix/etc/i2p:/etc/i2p'</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">'/rw/srv/whonix/var/lib/i2p/i2p-config:/var/lib/i2p/i2p-config'</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">'/rw/srv/whonix/usr/share/i2p:/usr/share/i2p'</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">(new Method)</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">by adding the following to  /usr/lib/qubes-bind-dirs.d/40_qubes-whonix.conf </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">binds+=( '/etc/i2p' )</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">binds+=( '/var/lib/i2p/i2p-config/' )</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Changing I2P's listening interface</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">I2P listens for connections on 127.0.0.1. This won't work for us since we want to access I2P from the workstation. </span><br/> <span class="anonymous" title="anonymous">We'll setup I2P to listen on the gateway IP, which could be 10.137.x.10 depending on the Whonix version that you're using. Note: </span><br/> <span class="anonymous" title="anonymous">By the time we're finished here, you will be able to access I2P from the workstation via 127.0.0.1 as well.</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Run this command in the Whonix-Gateway Proxyvm </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Run this in the whonix-Gateway</span><span class="anonymous" title="anonymous"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">Paste this into a new file named i2pconfig.sh (it changes the listening ip from localhost to the Whonix-Gateway IP)</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">#!/usr/bin/bash</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">GATEWAYIP=$(cat /var/cache/qubes-whonix/whonix-ip-gateway)</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">echo "Your Gateway Ip is :"</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">echo $GATEWAYIP</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">sed -i "s/\(.*interface=\).*/\1$GATEWAYIP/g;s/\(.*targetHost=\).*/\1$GATEWAYIP/g" /var/lib/i2p/i2p-config/i2ptunnel.config</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">sed -i "s/127\.0\.0\.1/$GATEWAYIP/g" /var/lib/i2p/i2p-config/clients.config</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">echo "susimail.host=$GATEWAYIP" >> /usr/share/i2p/susimail.config</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">echo "Done"</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">run it </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>user@host:~$sudo .&#x2F;i2pconfig.sh</li></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">If you want to use the included jetty for hosting eepsites, run the following to change its listening address to the gateway IP:</span><br/> <span class="anonymous" title="anonymous"></span><br/><ul class="indent"><li>user@host:~$ sed -i &quot;s;\(&lt;Set name=\&quot;host\&quot;&gt;\).*\(&lt;&#x2F;Set&gt;\);\1$(cat &#x2F;var&#x2F;cache&#x2F;qubes-whonix&#x2F;whonix-ip-gateway)\2;g&quot; &#x2F;usr&#x2F;share&#x2F;i2p&#x2F;eepsite&#x2F;jetty.xml</li></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Installing and Configuring FoxyProxy</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"># all this Happens  in the Whonix-Workstation AppVM</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Open the TorBrowser, go to the Tools menu, then Addons. In the Search all add-ons box, enter Foxyproxy. From the results list, install FoxyProxy Standard</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Once installed, right click on the Foxyproxy Icon in the Toolbar and select Options, click on File at the Toolbar and select import Settings . Navigate to /usr/share/usability-misc/tbb-foxyproxy/foxyproxy.xml</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">Click on both pop-ups yes to import and to reboot the TorBrowser</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">Done you've imported the Foxyproxy rules now whenever you enter a i2p Url it will get send to the i2p router and the rest trough tor </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Forwarding Whonix-Workstations Ports to Whonix-Gateway local Ports</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">We'll set up the actual forwarding with this initscript. Save it to the Whonix-Workstation-Template copy it to /etc/init.d/i2p-whonix, set the executable bit, and enable it to run at start up.</span><span class="anonymous" title="anonymous"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>user@host:~$ wget <a href="https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;cle4r&#x2F;var&#x2F;master&#x2F;i2p&#x2d;whonix">https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;cle4r&#x2F;var&#x2F;master&#x2F;i2p-whonix</a></li></ul> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">Verify the downloaded file</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>user@host:~$ sha512sum &lt; i2p-whonix</li><li><br></li></ul> <span class="anonymous" title="anonymous">Should Output</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/><ul class="indent"><li>2e12f13c309f5a366972b7b06bb109eb351bd28ce3d90ee596c0d479648d27da9fa577a6dd8d2d35a909e6868e587e343fd056398a4b3f63931a56648262d517</li></ul> <span class="anonymous" title="anonymous"></span><br/><ul class="indent"><li>user@host:~$ sudo cp i2p-whonix &#x2F;etc&#x2F;init.d&#x2F;i2p-whonix</li><li>user@host:~$ sudo chmod +x &#x2F;etc&#x2F;init.d&#x2F;i2p-whonix</li><li>user@host:~$ sudo update-rc.d i2p-whonix defaults</li></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">The initscript will forward the following ports:</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    2727, BOB: BOB is an application bridge allowing non-Java clients to interact with I2P</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    3456, Tahoe-LAFS port (if installed)</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    4444, I2P HTTP Proxy: Used to access sites with the .i2p TLD</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    4445, I2P HTTP Proxy: Used to access sites with the .i2p TLD. (As I explain on the FoxyProxy page, I change the standard eepSite tunnel to use ed25519 but use part 4445 to access sites whose I2P routers are too old to support ed25519)</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    6668, Tunnel to Irc2P: Used to connect to the main I2P-only IRC network</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7622, A suggested port for XMPP, such as connecting to the the http://salt.i2p XMPP server (needs tunnel created)</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7650, I2PControl port</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7651, A suggested port for SOCKSIRC access (needs tunnel created)</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7654, the I2CP port</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7656, SAM: SAM is an application bridge allowing non-Java clients to use I2P. More information: SAMv1, SAMv2,</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7657, I2P router console: The router console is accessible in the web browser at http://127.0.0.1:7657</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7658, local 'eepsite': Each I2P installation is configured out of the box with the possibility to host one's own website (or eepsite) on the I2P network. The eepsite will not be acessible remotely unless its tunnel is started.</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7659, SMTP Proxy: Tunnel to smtp.postman.i2p. More information is available from within I2P at Postman's HQ</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7660, POP3 Proxy: Tunnel to pop3.postman.i2p. More information is available from within I2P at Postman's HQ</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7661, SMTP for I2P-Bote (if installed)</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    7662, IMAP for I2P-Bote (if installed)</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    8998, MTN Proxy: Tunnel to mtn.i2p2.i2p, a Monotone server.</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Feel free to add (or remove) any ports for your needs. Note that any additions will require changes to /etc/whonix_firewall.d/50_user.conf on the Whonix-Gateway-Template.</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Enabling and starting I2P</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">Run the following at a prompt on your Whonix Gateway Template</span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/><ul class="indent"><li>user@host:~$ sudo dpkg-reconfigure i2p</li></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">When asked if I2P should run at start-up, pick yes. Keep the user as i2psvc. </span><br/> <span class="anonymous" title="anonymous">Feel free to change the memory allocation if you plan on adding a bunch of plugins or taking part in heavy-duty torrenting..</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">## </span><span class="anonymous" title="anonymous">Usage </span><span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">I2PMail</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">To use a mail client like Icedove or Claws, just configure SMTP for 127.0.0.1, port 7659 and POP for 127.0.0.1, port 7660.</span><br/> <span class="anonymous" title="anonymous">IRC</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">To connect to Irc2P, just point your preferred IRC client to 127.0.0.1, port 6668. Make sure you are not going through a proxy.</span><br/> <span class="anonymous" title="anonymous">Additional software</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">I2P related software that works fine with this set-up (any software listed here is either in my package repository, or Debian's):</span><br/><ul><ul><ul><ul class="indent"><li><strong>Software&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Install Location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Notes</strong></li></ul><li>Anoncoin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Workstation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; You cannot set the proxy in the Anoncoin GUI due to a bug. Instead, set it in ~&#x2F;.anoncoin&#x2F;aoncoin.conf. To connect over I21P, make sure SAM is enabled.</li><li>Git&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Either&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Does not work over I2P since Git is forced to use torsocks via the uwt wrapper. Could probably disable the uwt wrapper to make it work.</li></ul></ul><li>Grid-Updates&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Could also be installed on the workstation, but of course synching the server list wouldn&#x27;t work</li><li>I2P-Control&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Install the plugin from <a href="http&#x3a;&#x2F;&#x2F;itoopie&#x2e;i2p">http:&#x2F;&#x2F;itoopie.i2p</a> or <a href="http&#x3a;&#x2F;&#x2F;plugins&#x2e;i2p&#x2F;plugins&#x2F;i2pcontrol&#x2F;">http:&#x2F;&#x2F;plugins.i2p&#x2F;plugins&#x2F;i2pcontrol&#x2F;</a>. Shut down I2P. Edit ~i2psvc&#x2F;i2p-config&#x2F;plugins&#x2F;I2PControl&#x2F;I2PControl.conf and set i2pcontrol.listen.address=10.137.x.x</li><li>Itoopie&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Workstation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; See notes for I2PControl</li></ul><li>I2P-Messenge&nbsp;&nbsp;&nbsp; Workstation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Make sure SAM is enabled</li><li>Monotone&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Either&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Both I2P and Tor work, meaning you can reach mtn:&#x2F;&#x2F;10.137.x.x:8998 and mtn:&#x2F;&#x2F;kytvi2pll2jw5gip.onion</li><li>Syndie&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Workstation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Archives on I2P will work. Archives on Tor will not without setting up privoxy or polipo.</li></ul><li>Tahoe-LAFS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Both&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&#x27;d advise installing on the gateway as per the instructions, setting the proxy to point to 10.152.152.10 (or whatever your Whonix-Gateway&#x27;s IP is), port 4444, and installing on the workstation. On the workstation, create the directory ~&#x2F;.tahoe&#x2F; and inside of it create a file called node.url with the contents of <a href="http&#x3a;&#x2F;&#x2F;127&#x2e;0&#x2e;0&#x2e;1&#x3a;3456">http:&#x2F;&#x2F;127.0.0.1:3456</a> This way you&#x27;ll only run one instance of Tahoe-LAFS but you&#x27;ll be able to access it from both the gateway and the workstation.</li></ul></ul> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">I have not had success with getting Robert to work, but to be fair I haven't tried very hard. It's likely that one needs to run a standalone BOB on the workstation. Search http://forum.i2p for hints.</span><br/> <span class="anonymous" title="anonymous">Other notes</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    It's been said that the Whonix dev doesn't recommend this set-up to avoid IP address leaks due to the IP address being shown at http://127.0.0.1:7657/netdb?r=. when not running in hidden mode, and that the workstation should not know what its IP is. If that's a problem, why not set a password for the router console at http://127.0.0.1:7657/configui? Or set up I2P and then disable access to the router console?</span><br/> <span class="anonymous" title="anonymous">    Torrenting with I2PSnark will work, and the files will be saved on the Whonix-Gateway to /var/lib/i2p/i2p-config/i2psnark. See https://www.whonix.org/wiki/File_Transfer for information about transfering the files to your host or to the workstation. Another option would be to use libguestfs on your host.</span><br/> <span class="anonymous" title="anonymous"></span><br/> <span class="anonymous" title="anonymous">    </span><br/> <span class="anonymous" title="anonymous">    </span><span class="anonymous" title="anonymous">Ressources</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    I2p Docs</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://geti2p.net/en/docs</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://geti2p.net/en/get-involved/develop/applications</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://geti2p.net/spec/configuration</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    I2PControl API</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://geti2p.net/de/docs/api/i2pcontrol</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    Telecomix I2p Wiki entry</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://cryptoanarchy.freed0m4all.net/wiki/I2P</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    I2PControl Api Python script</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://github.com/i2p/i2p.scripts/blob/master/i2pcontrol/i2pcontrol.py</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    Tor with I2p setup (some nice scripts)</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://github.com/znoxx/torbox/blob/master/scripts/install/i2pinst.sh</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    Replace IP Whonix Script</span><br/> <span class="anonymous" title="anonymous">    https://github.com/Whonix/qubes-whonix/blob/master/usr/lib/qubes-whonix/replace-ips</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    </span><br/> <span class="anonymous" title="anonymous">    Whonix Forum Post about I2P</span><br/> <span class="anonymous" title="anonymous">    https://forums.whonix.org/t/i2p-running-on-whonix-gateway/2163/10</span><br/> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    Sys-Whonix Time Skew after suspend</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://groups.google.com/forum/#!topic/qubes-users/QO4He5mZDzc</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    Whonix Timesync</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://www.whonix.org/wiki/Dev/TimeSync</span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    </span><br/> <span class="anonymous" title="anonymous">    Whonix Gateway Dns </span><br/> <span class="anonymous" title="anonymous">    https://github.com/Whonix/anon-gw-dns-conf</span><br/> <span class="anonymous" title="anonymous">    </span><br/> <span class="anonymous" title="anonymous">    Customizing Whonix Firewall / torified dom0 upgrades</span><br/><ul class="indent"><li><a href="https&#x3a;&#x2F;&#x2F;forums&#x2e;whonix&#x2e;org&#x2F;t&#x2F;customizing&#x2d;whonix&#x2d;firewall&#x2d;torified&#x2d;dom0&#x2d;upgrades&#x2F;"><strong>https:&#x2F;&#x2F;forums.whonix.org&#x2F;t&#x2F;customizing-whonix-firewall-torified-dom0-upgrades&#x2F;</strong></a></li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;forums&#x2e;whonix&#x2e;org&#x2F;t&#x2F;socat&#x2d;running&#x2d;on&#x2d;ws&#x2d;called&#x2d;from&#x2F;">https:&#x2F;&#x2F;forums.whonix.org&#x2F;t&#x2F;socat-running-on-ws-called-from&#x2F;</a></li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;forums&#x2e;whonix&#x2e;org&#x2F;t&#x2F;bolt&#x2d;on&#x2d;for&#x2d;whonix&#x2d;firewall&#x2d;best&#x2d;place&#x2d;to&#x2d;put&#x2d;files&#x2F;">https:&#x2F;&#x2F;forums.whonix.org&#x2F;t&#x2F;bolt-on-for-whonix-firewall-best-place-to-put-files&#x2F;</a></li><li><br></li><li>&nbsp;sys-whonix doesn&#x27;t connect to Tor after system suspend #1764&nbsp;</li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;QubesOS&#x2F;qubes&#x2d;issues&#x2F;issues&#x2F;1764&#x23;issuecomment&#x2d;195619793">https:&#x2F;&#x2F;github.com&#x2F;QubesOS&#x2F;qubes-issues&#x2F;issues&#x2F;1764#issuecomment-195619793</a></li><li><br></li><li>I2P - Debian Page</li><li><a href="https&#x3a;&#x2F;&#x2F;geti2p&#x2e;net&#x2F;en&#x2F;download&#x2F;debian">https:&#x2F;&#x2F;geti2p.net&#x2F;en&#x2F;download&#x2F;debian</a></li><li><br></li><li>I2P Bootstrap Script&nbsp;</li><li><a href="https&#x3a;&#x2F;&#x2F;thetinhat&#x2e;com&#x2F;tutorials&#x2F;darknets&#x2F;i2p&#x2d;bootstrap&#x2d;script&#x2e;html">https:&#x2F;&#x2F;thetinhat.com&#x2F;tutorials&#x2F;darknets&#x2F;i2p-bootstrap-script.html</a></li><li><br></li><li>Configuring I2P Services&nbsp; ## Seems reasonable</li><li><a href="http&#x3a;&#x2F;&#x2F;dione&#x2e;no&#x2d;ip&#x2e;org&#x2F;wordpress&#x2F;computing&#x2F;configuring&#x2d;i2p&#x2d;services&#x2F;">http:&#x2F;&#x2F;dione.no-ip.org&#x2F;wordpress&#x2F;computing&#x2F;configuring-i2p-services&#x2F;</a></li><li><br></li><li>I2P - Ubuntu Community</li><li><a href="https&#x3a;&#x2F;&#x2F;help&#x2e;ubuntu&#x2e;com&#x2F;community&#x2F;I2P">https:&#x2F;&#x2F;help.ubuntu.com&#x2F;community&#x2F;I2P</a></li><li><br></li><li>Tails - I2P Docs</li><li><a href="https&#x3a;&#x2F;&#x2F;tails&#x2e;boum&#x2e;org&#x2F;contribute&#x2F;design&#x2F;I2P&#x2F;">https:&#x2F;&#x2F;tails.boum.org&#x2F;contribute&#x2F;design&#x2F;I2P&#x2F;</a></li><li><br></li><li>I2p - Default Systemd service</li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;i2p&#x2F;i2p&#x2e;i2p&#x2F;blob&#x2F;master&#x2F;debian&#x2F;i2p&#x2e;service">https:&#x2F;&#x2F;github.com&#x2F;i2p&#x2F;i2p.i2p&#x2F;blob&#x2F;master&#x2F;debian&#x2F;i2p.service</a></li><li><br></li><li>I2P- Default Init.d script</li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;i2p&#x2F;i2p&#x2e;i2p&#x2F;blob&#x2F;master&#x2F;debian&#x2F;i2p&#x2e;init">https:&#x2F;&#x2F;github.com&#x2F;i2p&#x2F;i2p.i2p&#x2F;blob&#x2F;master&#x2F;debian&#x2F;i2p.init</a></li><li><br></li><li>Meehs init.d script (#! CAUTION the Inproxy messes with the config by adding .xyz to .i2p (eg &#x2F;folder&#x2F;folder&#x2F;.i2p.xyz #!)</li><li><a href="http&#x3a;&#x2F;&#x2F;wiki&#x2e;meeh&#x2e;i2p&#x2e;xyz&#x2F;doku&#x2e;php&#x3f;id&#x3d;hosting&#x3a;initd&#x2e;script">http:&#x2F;&#x2F;wiki.meeh.i2p.xyz&#x2F;doku.php?id=hosting:initd.script</a></li></ul> <span class="anonymous" title="anonymous">    </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    Whonix transition from init.d to systemd </span><span class="a_LTX4mf74qJsxzVrx" title="a_LTX4mf74qJsxzVrx" style="background-color:#11501d"></span><br/> <span class="anonymous" title="anonymous">    https://phabricator.whonix.org/T106</span><br/> <span class="anonymous" title="anonymous">    https://github.com/Whonix/control-port-filter-python/commit/d8e1d5711d2a71a9ab638c03e84a0d9b48d7ae48</span><br/> <span class="anonymous" title="anonymous">    </span><br/><ul class="indent"><li><strong>Known Issues</strong></li><li><br></li><ul class="indent"><li><br></li><li><br></li></ul></ul> <span class="anonymous" title="anonymous"></span><br/></body>
</html>
